<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<header th:insert="parts/header.html"></header>
<div class="container-fluid">
    <h2>Edit product</h2>
    <form th:action="@{/products_manager/edit/save}" th:object="${product}" method="post" enctype="multipart/form-data" >


        <div class="form-group mt-5 mb-3 w-25">
            <p>Current image: <span th:text="*{image}"></span></p>
            <img id="img" style="width: 50%" th:src="@{|/product_images/${product.id}/${product.image}|}"/>
        </div>
        <div class="form-group mb-3 w-25">
            <label class="form-label" for="product_pic">Choose image to upload</label>
            <input type="file" class="form-control" name="product_pic" id="product_pic" accept=".png, .jpg, .jpeg">
        </div>
        <div class="form-group mb-3 w-25">
            <label class="form-label" for="name">Name</label>
            <input th:field="*{name}" type="text" class="form-control" id="name">
        </div>
        <div class="form-group mb-3 w-25">
            <label class="form-label" for="brand">Brand</label>
            <input th:field="*{brand}" type="text" class="form-control" id="brand">
        </div>
        <div class="form-group mb-3 w-25">
            <label class="form-label" for="brand">Category</label>
            <select th:field="*{category}" class="form-control" id="category">
                <option th:each="category : ${categories}" th:value="${category.getId()}" th:text="${category.getName()}"></option>
            </select>
        </div>
        <div  class="form-group mb-3 w-50">
            <label class="form-label" for="description">Description</label>
            <textarea th:field="*{description}" class="form-control" id="description"></textarea>
        </div>
        <div  class="form-group mb-3 w-25">
            <label class="form-label" for="price">Price</label>
            <input th:field="*{price}" type="number" class="form-control" id="price">
        </div>
        <input type="submit"
               class="btn btn-primary" value="Save"/>
    </form>

</div>
</body>
</html>